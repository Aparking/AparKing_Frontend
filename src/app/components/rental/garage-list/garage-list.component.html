<ion-grid>
  <ion-button [routerLink]="'create'" color="danger" shape="round" size="small"
    >Añadir garaje</ion-button
  >
<ion-card>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked" id="nameLabel">Nombre</ion-label>
        <ion-input #name type="text" 
        aria-labelledby="nameLabel"
        [clearInput]="true" 
        [counter]="true" maxlength="50"
        placeholder="Introduce un nombre de garaje"
        (input)="onNameUpdated(name.value)"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked" id="minPriceLabel">Precio Mínimo</ion-label>
        <ion-input #minPrice type="number" 
        aria-labelledby="minPriceLabel"
        placeholder="Introduce un precio mínimo"
        min="0.00" max="9999.99"
        [clearInput]="true"
        (input)="onMinPriceUpdated(minPrice.value)"></ion-input>
        <ion-label position="stacked" id="maxPriceLabel">Precio Máximo</ion-label>
        <ion-input #maxPrice type="number"
        aria-labelledby="maxPriceLabel"
        label="Precio máximo" 
        placeholder="Introduce un precio máximo"
        min="0.00" max="9999.99"
        [clearInput]="true"
        (input)="onMaxPriceUpdated(maxPrice.value)"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked" id="startDateLabel">Fecha inicio</ion-label>
        <ion-input #startDate type="date"
        aria-labelledby="startDateLabel"
        errorText="Formato de fecha inválido: DD/MM/YYYY" 
        placeholder="Introduce una fecha inicial"
        [clearInput]="true"
        (input)="onStartDateUpdated(startDate.value)"></ion-input>
        <ion-label position="stacked" id=endDateLabel>Fecha fin</ion-label>
        <ion-input #endDate type="date" 
        aria-labelledby="endDateLabel"
        errorText="Formato de fecha inválido: DD/MM/YYYY" 
        placeholder="Introduce una fecha final"
        [clearInput]="true"
        (input)="onEndDateUpdated(startDate.value)"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked" id="minDimensionLabel">Dimensión mínima</ion-label>
        <ion-input #minDimension type="number"
        aria-labelledby="minDimensionLabel"
        min="0.00" max="9999.99"
        placeholder="Introduce una dimensión mínima"
        [clearInput]="true"
        (input)="onMinDimensionUpdated(minDimension.value)"></ion-input>
        <ion-label position="stacked" id="maxDimensionLabel">Dimensión máxima</ion-label>
        <ion-input #maxDimension type="number" 
        aria-labelledby="maxDimensionLabel"        
        min="0.00" max="9999.99"
        placeholder="Introduce una dimensión máxima"
        [clearInput]="true"
        (input)="onMaxDimensionUpdated(maxDimension.value)"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked" id="cityLabel">Ciudad</ion-label>
        <ion-input #city type="text" 
        aria-labelledby="cityLabel"
        [clearInput]="true" 
        [counter]="true" maxlength="35"
        placeholder="Introduce una ciudad"
        (input)="onCityUpdated(city.value)"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked" id="countryLabel">País</ion-label>
        <ion-input #country type="text" 
        aria-labelledby="countryLabel"
        [clearInput]="true" 
        [counter]="true" maxlength="35"
        placeholder="Introduce un país"
        (input)="onCountryUpdated(country.value)"></ion-input>
      </ion-item>

      <ion-button expand="block" (click)="resetFilters()">Limpiar Filtros</ion-button>

    </ion-card-content>
  </ion-card>

  <ion-row *ngFor="let garage of dataGarage$ | async">
      <ion-card>
        <img alt="Imagen del garaje" src="https://ionicframework.com/docs/img/demos/card-media.png"/>
        <ion-card-header>
          <ion-card-title>{{ garage.name }}</ion-card-title>
          <ion-card-subtitle>{{ garage.description }}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <p>Dimensiones: {{ garage.height }} x {{ garage.width }} x {{ garage.length }}</p>
          <p>Precio: {{ garage.price }}</p>
          <p>Día de subida: {{ garage.creation_date }}</p>
          <ion-button [routerLink]="garage.id.toString()" color="secondary" shape="round" size="small">Ver detalles</ion-button>
        </ion-card-content>
      </ion-card>
  </ion-row>

  <ion-infinite-scroll>
    <ion-infinite-scroll-content 
    loadingText="Por favor espere..." 
    loadingSpinner="bubbles">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-grid>
